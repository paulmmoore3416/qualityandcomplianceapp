import{j as e,a as o}from"./vendor-react-Coyc-9rJ.js";import{a as r,k as u,r as j,c as i}from"./index-BahTgtJs.js";import{g as R,D as I,X as E,Q as $,p as M,f as O,A as P,o as L,m as A,x as B}from"./vendor-icons-CczvD28u.js";import"./vendor-DW9sAQKa.js";import"./vendor-zustand-Bm6pua9f.js";import"./vendor-uuid-CtRu48qb.js";function q({record:s,onClose:g}){const c=()=>{window.print()},h=()=>{const a=d(s),x=new Blob([a],{type:"text/plain"}),m=URL.createObjectURL(x),l=document.createElement("a");l.href=m,l.download=`Training-Record-${s.employeeId}-${s.trainingId}.txt`,document.body.appendChild(l),l.click(),document.body.removeChild(l),URL.revokeObjectURL(m)},d=a=>`
MEDTECH COMPLIANCE SOLUTIONS LLC
Training & Competency Record
ISO 13485:2016 Compliance System

================================================================================

TRAINING RECORD DETAILS
================================================================================

Employee Information:
- Employee ID: ${a.employeeId}
- Employee Name: ${a.employeeName}
- Department: ${a.department}
- Role: ${a.role}

Training Information:
- Training ID: ${a.trainingId}
- Training Title: ${a.trainingTitle}
- Training Type: ${a.trainingType}
- Required By: ${r(a.requiredBy)}
- Status: ${a.status}

Completion Details:
${a.completedDate?`- Completed Date: ${r(a.completedDate)}`:"- Completed Date: Not completed"}
${a.expiryDate?`- Expiry Date: ${r(a.expiryDate)}`:"- Expiry Date: N/A"}
${a.score!==void 0?`- Score: ${a.score}%`:"- Score: N/A"}
${a.passingScore?`- Passing Score: ${a.passingScore}%`:"- Passing Score: N/A"}

Verification:
${a.verifiedBy?`- Verified By: ${a.verifiedBy}`:"- Verified By: Pending verification"}
${a.verificationDate?`- Verification Date: ${r(a.verificationDate)}`:"- Verification Date: N/A"}

================================================================================

COMPLIANCE STATEMENT
================================================================================

This training record confirms that the above employee has ${a.status==="Completed"?"successfully completed":"been assigned"} the required training in accordance with ISO 13485:2016 Clause 6.2 (Human Resources) requirements for competence and training.

${a.status==="Completed"?"The employee has demonstrated the necessary competence for their role.":"Training completion and competence verification is pending."}

================================================================================

Report Generated: ${u(new Date)}
MedTech Compliance Solutions LLC - Quality Management System
================================================================================
`;return e.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:e.jsxs("div",{className:"bg-white rounded-lg shadow-xl max-w-4xl w-full max-h-[90vh] overflow-hidden",children:[e.jsxs("div",{className:"flex items-center justify-between p-6 border-b border-gray-200",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx(R,{className:"w-6 h-6 text-primary-600"}),e.jsxs("div",{children:[e.jsx("h2",{className:"text-xl font-semibold text-gray-900",children:"Training Record Report"}),e.jsxs("p",{className:"text-sm text-gray-500",children:[s.trainingTitle," - ",s.employeeName]})]})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsxs("button",{onClick:h,className:"btn-ghost btn-sm gap-2",title:"Download Report",children:[e.jsx(I,{className:"w-4 h-4"}),"Download"]}),e.jsx("button",{onClick:c,className:"btn-ghost btn-sm gap-2",title:"Print Report",children:"Print"}),e.jsx("button",{onClick:g,className:"btn-ghost btn-sm p-2",title:"Close",children:e.jsx(E,{className:"w-4 h-4"})})]})]}),e.jsxs("div",{className:"p-6 overflow-y-auto max-h-[calc(90vh-140px)]",children:[e.jsxs("div",{className:"text-center mb-8 pb-4 border-b-2 border-primary-600",children:[e.jsx("h1",{className:"text-2xl font-bold text-primary-900 mb-2",children:"MEDTECH COMPLIANCE SOLUTIONS LLC"}),e.jsx("h2",{className:"text-lg font-semibold text-gray-700 mb-2",children:"Training & Competency Record"}),e.jsx("p",{className:"text-sm text-gray-600",children:"ISO 13485:2016 Compliance Management System"})]}),e.jsxs("div",{className:"mb-6",children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4 border-b border-gray-200 pb-2",children:"Employee Information"}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-gray-500",children:"Employee ID"}),e.jsx("p",{className:"font-medium text-gray-900",children:s.employeeId})]}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-gray-500",children:"Employee Name"}),e.jsx("p",{className:"font-medium text-gray-900",children:s.employeeName})]}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-gray-500",children:"Department"}),e.jsx("p",{className:"font-medium text-gray-900",children:s.department})]}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-gray-500",children:"Role"}),e.jsx("p",{className:"font-medium text-gray-900",children:s.role})]})]})]}),e.jsxs("div",{className:"mb-6",children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4 border-b border-gray-200 pb-2",children:"Training Information"}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-gray-500",children:"Training ID"}),e.jsx("p",{className:"font-medium text-gray-900",children:s.trainingId})]}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-gray-500",children:"Training Title"}),e.jsx("p",{className:"font-medium text-gray-900",children:s.trainingTitle})]}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-gray-500",children:"Training Type"}),e.jsx("p",{className:"font-medium text-gray-900",children:s.trainingType})]}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-gray-500",children:"Required By"}),e.jsx("p",{className:"font-medium text-gray-900",children:r(s.requiredBy)})]}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-gray-500",children:"Status"}),e.jsx("span",{className:`inline-flex px-2 py-1 text-xs font-medium rounded-full ${s.status==="Completed"?"bg-green-100 text-green-800":s.status==="In Progress"?"bg-blue-100 text-blue-800":s.status==="Overdue"?"bg-red-100 text-red-800":s.status==="Expired"?"bg-orange-100 text-orange-800":"bg-gray-100 text-gray-800"}`,children:s.status})]})]})]}),e.jsxs("div",{className:"mb-6",children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4 border-b border-gray-200 pb-2",children:"Completion Details"}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.completedDate&&e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-gray-500",children:"Completed Date"}),e.jsx("p",{className:"font-medium text-gray-900",children:r(s.completedDate)})]}),s.expiryDate&&e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-gray-500",children:"Expiry Date"}),e.jsx("p",{className:"font-medium text-gray-900",children:r(s.expiryDate)})]}),s.score!==void 0&&e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-gray-500",children:"Score"}),e.jsxs("p",{className:`font-medium ${s.score>=(s.passingScore||80)?"text-green-600":"text-red-600"}`,children:[s.score,"%"]})]}),s.passingScore&&e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-gray-500",children:"Passing Score"}),e.jsxs("p",{className:"font-medium text-gray-900",children:[s.passingScore,"%"]})]})]})]}),e.jsxs("div",{className:"mb-6",children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4 border-b border-gray-200 pb-2",children:"Verification"}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-gray-500",children:"Verified By"}),e.jsx("p",{className:"font-medium text-gray-900",children:s.verifiedBy||"Pending verification"})]}),s.verificationDate&&e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-gray-500",children:"Verification Date"}),e.jsx("p",{className:"font-medium text-gray-900",children:r(s.verificationDate)})]})]})]}),e.jsxs("div",{className:"mb-6",children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4 border-b border-gray-200 pb-2",children:"Compliance Statement"}),e.jsxs("div",{className:"bg-gray-50 p-4 rounded-lg",children:[e.jsxs("p",{className:"text-sm text-gray-700 mb-2",children:["This training record confirms that the above employee has"," ",e.jsx("span",{className:"font-medium",children:s.status==="Completed"?"successfully completed":"been assigned"})," ","the required training in accordance with ISO 13485:2016 Clause 6.2 (Human Resources) requirements for competence and training."]}),e.jsx("p",{className:"text-sm text-gray-700",children:s.status==="Completed"?"The employee has demonstrated the necessary competence for their role.":"Training completion and competence verification is pending."})]})]}),e.jsxs("div",{className:"text-center text-xs text-gray-500 border-t border-gray-200 pt-4",children:[e.jsxs("p",{children:["Report Generated: ",u(new Date)]}),e.jsx("p",{children:"MedTech Compliance Solutions LLC - Quality Management System"})]})]})]})})}const k=[{id:"1",employeeId:"EMP-001",employeeName:"Alice Johnson",department:"Production",role:"Line Operator",trainingId:"TRN-001",trainingTitle:"GMP Fundamentals",trainingType:"Regulatory",requiredBy:new Date("2026-01-15"),completedDate:new Date("2026-01-10"),expiryDate:new Date("2027-01-10"),status:"Completed",score:92,passingScore:80,verifiedBy:"QA Manager",verificationDate:new Date("2026-01-11")},{id:"2",employeeId:"EMP-002",employeeName:"Bob Smith",department:"Quality",role:"QC Inspector",trainingId:"TRN-002",trainingTitle:"ISO 13485 Internal Auditor",trainingType:"Role-specific",requiredBy:new Date("2026-02-01"),status:"In Progress",passingScore:85},{id:"3",employeeId:"EMP-003",employeeName:"Carol Davis",department:"Engineering",role:"Design Engineer",trainingId:"TRN-003",trainingTitle:"Risk Management (ISO 14971)",trainingType:"Regulatory",requiredBy:new Date("2026-01-20"),status:"Overdue",passingScore:80},{id:"4",employeeId:"EMP-004",employeeName:"David Lee",department:"Production",role:"Line Operator",trainingId:"TRN-001",trainingTitle:"GMP Fundamentals",trainingType:"Regulatory",requiredBy:new Date("2025-12-15"),completedDate:new Date("2024-12-10"),expiryDate:new Date("2025-12-10"),status:"Expired",score:88,passingScore:80}],V=[{department:"Production",role:"All",requiredTrainings:[],completionRate:87,overdueCount:3},{department:"Quality",role:"All",requiredTrainings:[],completionRate:95,overdueCount:1},{department:"Engineering",role:"All",requiredTrainings:[],completionRate:78,overdueCount:4},{department:"Regulatory",role:"All",requiredTrainings:[],completionRate:100,overdueCount:0}];function J(){const[s,g]=o.useState(""),[c,h]=o.useState("all"),[d,a]=o.useState("all"),[x,m]=o.useState(null),[l,y]=o.useState(!1),p=k,N=V,f=p.filter(t=>{const w=t.employeeName.toLowerCase().includes(s.toLowerCase())||t.trainingTitle.toLowerCase().includes(s.toLowerCase()),D=c==="all"||t.status===c,S=d==="all"||t.department===d;return w&&D&&S}),n={totalEmployees:45,overallCompliance:89,overdueTrainings:p.filter(t=>t.status==="Overdue").length,expiringThisMonth:p.filter(t=>t.expiryDate&&j(t.expiryDate)<=30&&j(t.expiryDate)>0).length},b=t=>{m(t),y(!0)},v=()=>{y(!1),m(null)},T=t=>{switch(t){case"Completed":return"bg-green-100 text-green-700";case"In Progress":return"bg-blue-100 text-blue-700";case"Not Started":return"bg-gray-100 text-gray-700";case"Overdue":return"bg-red-100 text-red-700";case"Expired":return"bg-orange-100 text-orange-700"}},C=[...new Set(p.map(t=>t.department))];return e.jsxs("div",{className:"space-y-6 animate-fade-in",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("h2",{className:"text-xl font-semibold text-gray-900",children:"Training & Competency"}),e.jsx("p",{className:"text-sm text-gray-500 mt-1",children:"Per ISO 13485:6.2 - Human Resources & Competence"})]}),e.jsxs("button",{className:"btn-primary gap-2",children:[e.jsx($,{className:"w-4 h-4"}),"Assign Training"]})]}),e.jsxs("div",{className:"grid grid-cols-4 gap-4",children:[e.jsx("div",{className:"card",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-gray-500",children:"Total Employees"}),e.jsx("p",{className:"text-2xl font-bold text-gray-900",children:n.totalEmployees})]}),e.jsx("div",{className:"w-10 h-10 bg-primary-100 rounded-full flex items-center justify-center",children:e.jsx(M,{className:"w-5 h-5 text-primary-600"})})]})}),e.jsx("div",{className:"card",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-gray-500",children:"Overall Compliance"}),e.jsxs("p",{className:i("text-2xl font-bold","text-yellow-600"),children:[n.overallCompliance,"%"]})]}),e.jsx("div",{className:"w-10 h-10 bg-green-100 rounded-full flex items-center justify-center",children:e.jsx(O,{className:"w-5 h-5 text-green-600"})})]})}),e.jsx("div",{className:i("card",n.overdueTrainings>0&&"border-red-300 bg-red-50"),children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-gray-500",children:"Overdue"}),e.jsx("p",{className:i("text-2xl font-bold",n.overdueTrainings>0?"text-red-600":"text-gray-900"),children:n.overdueTrainings})]}),e.jsx("div",{className:i("w-10 h-10 rounded-full flex items-center justify-center",n.overdueTrainings>0?"bg-red-100":"bg-gray-100"),children:e.jsx(P,{className:i("w-5 h-5",n.overdueTrainings>0?"text-red-600":"text-gray-400")})})]})}),e.jsx("div",{className:i("card",n.expiringThisMonth>0&&"border-yellow-300 bg-yellow-50"),children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-gray-500",children:"Expiring (30d)"}),e.jsx("p",{className:i("text-2xl font-bold",n.expiringThisMonth>0?"text-yellow-600":"text-gray-900"),children:n.expiringThisMonth})]}),e.jsx("div",{className:"w-10 h-10 bg-yellow-100 rounded-full flex items-center justify-center",children:e.jsx(L,{className:"w-5 h-5 text-yellow-600"})})]})})]}),e.jsxs("div",{className:"card",children:[e.jsx("h3",{className:"font-semibold text-gray-900 mb-4",children:"Department Compliance Matrix"}),e.jsx("div",{className:"grid grid-cols-4 gap-4",children:N.map(t=>e.jsxs("div",{className:"bg-surface-50 rounded-lg p-4",children:[e.jsxs("div",{className:"flex items-center justify-between mb-2",children:[e.jsx("p",{className:"font-medium text-gray-900",children:t.department}),t.overdueCount>0&&e.jsxs("span",{className:"badge badge-red text-xs",children:[t.overdueCount," overdue"]})]}),e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"flex-1 h-3 bg-surface-200 rounded-full overflow-hidden",children:e.jsx("div",{className:i("h-full rounded-full transition-all duration-500",t.completionRate>=90?"bg-green-500":t.completionRate>=70?"bg-yellow-500":"bg-red-500"),style:{width:`${t.completionRate}%`}})}),e.jsxs("span",{className:i("text-lg font-bold",t.completionRate>=90?"text-green-600":t.completionRate>=70?"text-yellow-600":"text-red-600"),children:[t.completionRate,"%"]})]})]},t.department))})]}),e.jsxs("div",{className:"card flex items-center gap-4 flex-wrap",children:[e.jsxs("div",{className:"relative flex-1 max-w-md",children:[e.jsx(A,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-4 h-4 text-gray-400"}),e.jsx("input",{type:"text",placeholder:"Search employees or trainings...",value:s,onChange:t=>g(t.target.value),className:"input pl-9"})]}),e.jsxs("select",{value:d,onChange:t=>a(t.target.value),className:"input w-auto",children:[e.jsx("option",{value:"all",children:"All Departments"}),C.map(t=>e.jsx("option",{value:t,children:t},t))]}),e.jsx("div",{className:"flex items-center gap-2",children:["all","Completed","In Progress","Overdue","Expired"].map(t=>e.jsx("button",{onClick:()=>h(t),className:i("px-3 py-1.5 text-sm rounded-md transition-colors",c===t?"bg-primary-100 text-primary-700 font-medium":"bg-surface-100 text-gray-600 hover:bg-surface-200"),children:t==="all"?"All":t},t))})]}),e.jsx("div",{className:"card p-0",children:e.jsx("div",{className:"table-container",children:e.jsxs("table",{className:"table",children:[e.jsx("thead",{children:e.jsxs("tr",{children:[e.jsx("th",{children:"Employee"}),e.jsx("th",{children:"Department"}),e.jsx("th",{children:"Training"}),e.jsx("th",{children:"Type"}),e.jsx("th",{children:"Status"}),e.jsx("th",{children:"Required By"}),e.jsx("th",{children:"Score"}),e.jsx("th",{children:"Verified"}),e.jsx("th",{children:"Actions"})]})}),e.jsx("tbody",{children:f.map(t=>e.jsxs("tr",{children:[e.jsx("td",{children:e.jsxs("div",{children:[e.jsx("p",{className:"font-medium text-gray-900",children:t.employeeName}),e.jsx("p",{className:"text-xs text-gray-500",children:t.role})]})}),e.jsx("td",{children:t.department}),e.jsxs("td",{children:[e.jsx("p",{className:"font-medium text-gray-900",children:t.trainingTitle}),e.jsx("p",{className:"text-xs text-gray-500",children:t.trainingId})]}),e.jsx("td",{children:e.jsx("span",{className:"badge badge-gray",children:t.trainingType})}),e.jsx("td",{children:e.jsx("span",{className:i("badge",T(t.status)),children:t.status})}),e.jsx("td",{className:i("text-sm",t.status==="Overdue"?"text-red-600 font-medium":"text-gray-600"),children:r(t.requiredBy)}),e.jsx("td",{children:t.score!==void 0?e.jsxs("span",{className:i("font-medium",t.score>=(t.passingScore||80)?"text-green-600":"text-red-600"),children:[t.score,"%"]}):e.jsx("span",{className:"text-gray-400",children:"--"})}),e.jsx("td",{children:t.verifiedBy?e.jsxs("div",{className:"flex items-center gap-1",children:[e.jsx(B,{className:"w-4 h-4 text-green-500"}),e.jsx("span",{className:"text-xs text-gray-500",children:t.verifiedBy})]}):e.jsx("span",{className:"text-xs text-gray-400",children:"Pending"})}),e.jsx("td",{children:e.jsx("button",{onClick:()=>b(t),className:"btn-ghost btn-sm text-xs",children:"View Record"})})]},t.id))})]})})}),e.jsxs("div",{className:"card bg-primary-50 border-primary-200",children:[e.jsx("h4",{className:"font-semibold text-primary-900 mb-2",children:"ISO 13485:2016 - Clause 6.2 Human Resources"}),e.jsx("p",{className:"text-sm text-primary-700",children:"Personnel performing work affecting product quality shall be competent on the basis of appropriate education, training, skills and experience. The organization shall determine the necessary competence, provide training or take other actions to achieve the necessary competence, evaluate the effectiveness of the actions taken, and maintain appropriate records of education, training, skills and experience."})]}),l&&x&&e.jsx(q,{record:x,onClose:v})]})}export{J as default};
